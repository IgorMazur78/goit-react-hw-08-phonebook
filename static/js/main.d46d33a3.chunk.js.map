{"version":3,"sources":["Views/Navigation.js","Component/Usermenu/userMenu.js","Views/HomeNavigation.js","Component/AppBar/AppBar.js","Component/PrivateRoute/PrivateRoute.js","Component/PublicRoute/PublicRoute.js","Component/App.js","redux/contacts/contactReducer.js","redux/auth/authReducer.js","redux/storePhone.js","index.js","redux/contacts/contactAction.js","redux/auth/authSelector.js","redux/auth/authOperation.js","Style/navigation.module.css","redux/auth/authAction.js","Component/AppBar/appBar.module.css"],"names":["Navigation","Toolbar","exact","to","IconButton","edge","color","aria-label","Typography","variant","mapDispachToProps","onLogOut","AuthOperation","logOut","connect","state","email","getUserEmail","className","style","listNavigation","Person","fontSize","Button","type","onClick","buttonNavigation","HomeNavigation","Box","mr","onLogIn","isLogIn","AppBar","position","Container","fixed","isАuthorized","Component","component","routeProps","render","props","restricted","HomePage","lazy","RegistrationForm","LogIn","PhoneBook","App","this","onGetCurrentUser","fallback","path","mapDispatchToProps","authOperation","getCurrentUser","itemContacts","createReducer","contactAction","fetchContactSuccess","payload","addContactSuccess","prevContactNumber","some","e","number","name","alert","deleteContactSuccess","filter","contact","id","loading","fetchContactRecuest","addContactRecuest","deleteContactRecuest","fetchContactError","addContactError","deleteContactError","filterContact","combineReducers","initialUserState","user","authAction","registerSuccess","logInSuccess","getCurrentUserSuccess","logOutSuccess","token","authorized","registerError","logInError","getCurrentUserError","error","logOutError","defaultMiddleware","getDefaultMiddleware","authPersistConfig","key","storage","sessionStorage","whitelist","store","configureStore","reducer","allContacts","contactReducer","auth","persistReducer","authReducer","middleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","StrictMode","document","getElementById","createAction","axios","defaults","baseURL","set","headers","common","Authorization","unset","register","credentials","dispatch","registerRequest","post","then","response","data","catch","logIn","logInRequest","console","log","logOutRequest","getState","persistedToken","getCurrentUserRequest","get","module","exports"],"mappings":"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","file":"static/js/main.d46d33a3.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport { Toolbar, IconButton, Typography } from \"@material-ui/core\";\r\n\r\n\r\nconst Navigation = () => {\r\n  \r\n  return (\r\n    <Toolbar>\r\n      <NavLink exact to=\"/\">\r\n        \r\n        <IconButton edge=\"start\" color=\"secondary\" aria-label=\"menu\">\r\n        <Typography variant=\"h6\">Home</Typography>\r\n        </IconButton>\r\n\r\n        \r\n      </NavLink>\r\n      \r\n    </Toolbar>\r\n  );\r\n};\r\n\r\n\r\nexport default Navigation;\r\n","import React from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport style from \"../../Style/navigation.module.css\";\r\nimport AuthOperation from \"../../redux/auth/authOperation\";\r\nimport { Toolbar, Button, Typography } from \"@material-ui/core\";\r\nimport {Person } from \"@material-ui/icons\";\r\n\r\nimport { getUserEmail } from \"../../redux/auth/authSelector\";\r\n\r\n\r\nconst UserMenu = ({email, onLogOut }) => {\r\n  return (\r\n    \r\n      <Toolbar className={style.listNavigation}>\r\n     \r\n      <Person style={{fontSize:40}} color=\"secondary\" />\r\n      <Typography variant = \"h6\">\r\n      User page :{email}\r\n      </Typography>\r\n\r\n      <Button color = \"secondary\" variant=\"contained\" type=\"button\" onClick={onLogOut} className={style.buttonNavigation}>\r\n        Log Out\r\n      </Button>\r\n      </Toolbar>\r\n      \r\n    \r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  email: getUserEmail(state),\r\n  \r\n  \r\n});\r\n\r\nconst mapDispachToProps = ({\r\n  onLogOut: AuthOperation.logOut,\r\n  \r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispachToProps)(UserMenu);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Box, Toolbar, Button } from \"@material-ui/core\";\r\n// import style from \"../Style/navigation.module.css\";\r\n\r\nconst HomeNavigation = () => {\r\n  return (\r\n    <div>\r\n      <Toolbar>\r\n        <Box mr={2}>\r\n          <Button color=\"secondary\" variant=\"contained\">\r\n            <NavLink to=\"/register\">Registers</NavLink>\r\n          </Button>\r\n        </Box>\r\n\r\n        <Button color=\"secondary\" variant=\"contained\">\r\n          <NavLink to=\"/login\">Log in</NavLink>\r\n        </Button>\r\n      </Toolbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomeNavigation;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Navigation from \"../../Views/Navigation\";\r\nimport UserMenu from \"../Usermenu/userMenu\";\r\n// import style from \"../../Style/navigation.module.css\";\r\nimport HomeNavigation from \"../../Views/HomeNavigation\";\r\nimport { isLogIn } from \"../../redux/auth/authSelector\";\r\nimport { AppBar, Container, Toolbar } from \"@material-ui/core\";\r\nimport style from \"./appBar.module.css\"\r\n\r\n\r\n\r\n\r\n\r\nconst BarNavigation = ({ onLogIn }) => {\r\n\r\n  return (\r\n    <AppBar position=\"fixed\">\r\n      <Container fixed>\r\n        <Toolbar className={style.Toolbar}>\r\n          \r\n          {!onLogIn && <Navigation />}\r\n          \r\n          {onLogIn ? <UserMenu /> : <HomeNavigation />}\r\n        </Toolbar>\r\n      </Container>\r\n    </AppBar>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  onLogIn: isLogIn(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(BarNavigation);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isLogIn } from \"../../redux/auth/authSelector\";\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isАuthorized,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={(props) => \r\n       isАuthorized ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isАuthorized: isLogIn(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isLogIn } from \"../../redux/auth/authSelector\";\r\n\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isАuthorized,\r\n  restricted,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={(props) => {\r\n      return isАuthorized && restricted ? (\r\n        <Redirect to=\"/contacts\" />\r\n      ) : (\r\n        <Component {...props} />\r\n      );\r\n    }}\r\n  />\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isАuthorized: isLogIn(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import React, { Component, Suspense, lazy } from \"react\";\nimport {BrowserRouter, Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport authOperation from \"../redux/auth/authOperation\";\nimport AppBar from \"./AppBar/AppBar\";\nimport PrivateRoute from \"../Component/PrivateRoute/PrivateRoute\";\nimport PublicRoute from \"../Component/PublicRoute/PublicRoute\"\n\nconst HomePage = lazy(()=>import(\"../Views/HomePage\"));\nconst RegistrationForm = lazy(()=>import(\"../Views/RegistrationForm\"));\nconst  LogIn = lazy(()=>import(\"../Views/LogIn\"));\nconst PhoneBook = lazy(()=>import(\"../Component/PhoneBook/PhoneBook\"));\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onGetCurrentUser();\n  }\n  render() {\n    return (\n      <BrowserRouter>\n      <div className=\"App\">\n        <AppBar />\n \n        <Suspense fallback={<div>Loading...</div>}>\n        <Switch>\n          <PrivateRoute path=\"/contacts\" exact component = {PhoneBook}/>\n          <PublicRoute path =\"/\" restricted = {false} exact component = {HomePage} />\n          <PublicRoute path =\"/register\" restricted = {true} exact component = {RegistrationForm} />\n          <PublicRoute path =\"/login\" restricted = {true} exact component = {LogIn} />\n          </Switch>\n          </Suspense>\n      </div>\n      </BrowserRouter>\n      \n    );\n  }\n}\nconst mapDispatchToProps = {\n  onGetCurrentUser: authOperation.getCurrentUser,\n};\n\nexport default connect(null, mapDispatchToProps)(App);\n","import { combineReducers } from \"redux\";\r\nimport contactAction from \"./contactAction\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\n// import {getUserEmail} from \"../auth/authSelector\";\r\n\r\n\r\nconst addContact = (state = [], { payload }) => {\r\n  const prevContactNumber = state.some(\r\n    (e) => e.number === payload.number\r\n  );\r\n  // console.log(contactAction.fetchContactSuccess(state.itemContacts));\r\n  \r\n  \r\n  if (\r\n    !prevContactNumber &&\r\n    payload.name &&\r\n    payload.number\r\n  )\r\n    return [...state,payload];\r\n  if (prevContactNumber) {\r\n    alert(\"такий контакт вже є\");\r\n  }\r\n  if (payload.name === \"\" || payload.number === \"\") {\r\n    alert(\"внесить данні\"); \r\n  }\r\n  return state;\r\n};\r\n\r\n// const initialContacts\r\n\r\nconst deleteContact = (state, { payload }) => {\r\n  return state.filter((contact) => contact.id !== payload);\r\n};\r\n\r\nconst itemContacts = createReducer( [], {\r\n  \r\n  [contactAction.fetchContactSuccess]:(state,{payload}) => payload,\r\n  [contactAction.addContactSuccess]: addContact,  \r\n  [contactAction.deleteContactSuccess]: deleteContact,\r\n});\r\n\r\nconst loading = createReducer (false, {\r\n  [contactAction.fetchContactRecuest]:() => true,\r\n  [contactAction.addContactRecuest]:() => true,\r\n  [contactAction.deleteContactRecuest]:() => true,\r\n  [contactAction.fetchContactSuccess]:() => false,\r\n  [contactAction.addContactSuccess]:() => false,\r\n  [contactAction.deleteContactSuccess]:() => false,\r\n  [contactAction.fetchContactError]:() => false,\r\n  [contactAction.addContactError]:() => false,\r\n  [contactAction.deleteContactError]:() => false,\r\n})\r\n\r\nconst filter = createReducer(\"\", {\r\n  [contactAction.filterContact]: (state, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  itemContacts,\r\n  filter,\r\n  loading\r\n});\r\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\n\r\nimport authAction from \"./authAction\";\r\nimport contactAction from \"../contacts/contactAction\";\r\n\r\nconst initialUserState = {\r\n  name: \"\",\r\n  email: \"\",\r\n};\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [authAction.registerSuccess]: (state, { payload }) => payload.user,\r\n  [authAction.logInSuccess]: (state, { payload }) => payload.user,\r\n  [authAction.getCurrentUserSuccess]: (state, { payload }) => payload,\r\n  [authAction.logOutSuccess]: () => initialUserState,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [authAction.registerSuccess]: (state, { payload }) => payload.token,\r\n  [authAction.logInSuccess]: (state, { payload }) => payload.token,\r\n  [authAction.logOutSuccess]: () => null,\r\n});\r\n\r\nconst authorized = createReducer(false, {\r\n  [authAction.registerSuccess]: () => true,\r\n  [authAction.logInSuccess]: () => true,\r\n  [authAction.getCurrentUserSuccess]: () => true,\r\n  [authAction.registerError]: () => false,\r\n  [authAction.logInError]: () => false,\r\n  [authAction.getCurrentUserError]: () => false,\r\n  [authAction.logOutSuccess]: () => false,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [authAction.registerError]: (state, { payload }) => payload,\r\n  [authAction.logInError]: (state, { payload }) => payload,\r\n  [authAction.logOutError]: (state, { payload }) => payload,\r\n  [authAction.getCurrentUserError]: (state, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  authorized,\r\n  token,\r\n  error,\r\n});\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport { persistStore, persistReducer,FLUSH,REHYDRATE,PAUSE,PERSIST,PURGE,REGISTER } from 'redux-persist';\r\n// import storage from 'redux-persist/lib/storage';\r\nimport sessionStorage from \"redux-persist/lib/storage/session\"\r\nimport contactReducer from \"./contacts/contactReducer\";\r\nimport authReducer from \"./auth/authReducer\";\r\n\r\nconst defaultMiddleware = getDefaultMiddleware;\r\n\r\nconst authPersistConfig = {\r\n  key:'auth',\r\n  storage:sessionStorage,\r\n  whitelist: ['token']\r\n\r\n}\r\n// const contactPersistConfig = {\r\n//   key: 'allContacts',\r\n//   storage:sessionStorage,\r\n//   whitelist: ['itemContacts']\r\n// }\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    allContacts: contactReducer ,\r\n    auth: persistReducer(authPersistConfig,authReducer),\r\n  },\r\n  middleware: defaultMiddleware({\r\n    serializableCheck:{\r\n      ignoredActions:[FLUSH,REHYDRATE,PAUSE,PERSIST,PURGE,REGISTER]\r\n    }\r\n  }),\r\n});\r\n\r\nexport const persistor = persistStore(store)","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Component/App\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from 'redux-persist/integration/react'\nimport {store, persistor} from \"./redux/storePhone\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    \n    <Provider store={store}>\n    <PersistGate loading = {null} persistor={persistor} >\n    <App />\n\n    </PersistGate>\n      \n      \n    </Provider>\n   \n    \n  </React.StrictMode>,\n\n  document.getElementById(\"root\")\n);\n","// import uuid from \"react-uuid\";\r\nimport { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst addContactRecuest = createAction(\"contact/addRecuest\");\r\nconst addContactSuccess = createAction(\"contact/addSuccess\");\r\nconst addContactError = createAction(\"contact/addError\");\r\n\r\nconst fetchContactRecuest = createAction(\"contact/fetchRecuest\");\r\nconst fetchContactSuccess = createAction(\"contact/fetchSuccess\");\r\nconst fetchContactError = createAction(\"contact/fetchError\");\r\n\r\nconst deleteContactRecuest = createAction(\"contact/deleteContactRecuest\");\r\nconst deleteContactSuccess = createAction(\"contact/deleteContactSuccess\");\r\nconst deleteContactError = createAction(\"contact/deleteContactError\");\r\n\r\n\r\n\r\nconst filterContact = createAction(\"contact/filter\");\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n\r\n  filterContact,\r\n  addContactRecuest,\r\n  addContactSuccess,\r\n  fetchContactSuccess,\r\n  fetchContactRecuest,\r\n  fetchContactError,\r\n  deleteContactRecuest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  addContactError,\r\n\r\n\r\n};\r\n","export const isLogIn  = state => state.auth.authorized;\r\nexport const getUserName = state => state.auth.user.name;\r\nexport const getUserEmail = state => state.auth.user.email;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\n","import axios from \"axios\";\r\nimport authAction from \"./authAction\";\r\n\r\n\r\naxios.defaults.baseURL = \"https://goit-phonebook-api.herokuapp.com\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n    \r\n  },\r\n};\r\n\r\nconst register = (credentials) => (dispatch) => {\r\n  dispatch(authAction.registerRequest());\r\n  axios\r\n    .post(\"/users/signup\", credentials)\r\n    .then((response) => {\r\n     \r\n      token.set(response.data.token);\r\n\r\n      dispatch(authAction.registerSuccess(response.data));\r\n    })\r\n    .catch((error) => authAction.registerError(error.payload));\r\n};\r\nconst logIn = (credentials) => (dispatch) => {\r\n  dispatch(authAction.logInRequest());\r\n  axios\r\n    .post(\"/users/login\", credentials)\r\n    .then((response) => {\r\n      console.log(\"LogIn:\", response.data.token);\r\n      token.set(response.data.token);\r\n      dispatch(authAction.logInSuccess(response.data));\r\n    })\r\n    .catch((error) => authAction.logInError(error.payload));\r\n};\r\n\r\nconst logOut = () => (dispatch) => {\r\n  dispatch(authAction.logOutRequest());\r\n  axios\r\n    .post('/users/logout')\r\n    .then(() => {\r\n      token.unset();\r\n      dispatch(authAction.logOutSuccess());\r\n    })\r\n    .catch((error) => dispatch(authAction.logOutError(error.payload)));\r\n};\r\n\r\nconst getCurrentUser = () => (dispatch, getState) => {\r\nconst {\r\n  auth: {token: persistedToken}\r\n} = getState();\r\n\r\nif(!persistedToken){\r\n  return\r\n}\r\n\r\ntoken.set(persistedToken);\r\ndispatch(authAction.getCurrentUserRequest())\r\n\r\naxios\r\n.get('/users/current')\r\n.then(response => dispatch(authAction.getCurrentUserSuccess(response.data)))\r\n.catch(error => dispatch(authAction.getCurrentUserError(error.payload)))\r\n}\r\n\r\n\r\nexport default {\r\n  register,\r\n  logIn,\r\n  logOut,\r\n  getCurrentUser,\r\n  token\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listNavigation\":\"navigation_listNavigation__Bzbht\"};","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst registerRequest = createAction(\"auth/registerRequest\");\r\nconst registerSuccess = createAction(\"auth/registerSuccess\");\r\nconst registerError = createAction(\"auth/registerError\");\r\n\r\nconst logInRequest = createAction(\"auth/logInRequest\");\r\nconst logInSuccess = createAction(\"auth/logInSuccess\");\r\nconst logInError = createAction(\"auth/logInError\");\r\n\r\nconst logOutRequest = createAction(\"auth/logOutRequest\");\r\nconst logOutSuccess = createAction(\"auth/logOutSuccess\");\r\nconst logOutError = createAction(\"auth/logOutError\");\r\n\r\nconst getCurrentUserRequest = createAction(\"auth/getCurrentUserRequest\");\r\nconst getCurrentUserSuccess = createAction(\"auth/getCurrentUserSuccess\");\r\nconst getCurrentUserError = createAction(\"auth/getCurrentUserError\");\r\n\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n    registerRequest,\r\n    registerSuccess,\r\n    registerError,\r\n    logInRequest,\r\n    logInSuccess,\r\n    logInError,\r\n    logOutRequest,\r\n    logOutSuccess,\r\n    logOutError,\r\n    getCurrentUserRequest,\r\n    getCurrentUserSuccess,\r\n    getCurrentUserError\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"appBar_Toolbar__2b9In\"};"],"sourceRoot":""}