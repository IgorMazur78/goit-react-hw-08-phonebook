(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{149:function(t,e,n){t.exports={formStyle:"Form_formStyle__1B3WC",formStyleTitle:"Form_formStyleTitle__2ms-M",formStyleFormInput:"Form_formStyleFormInput__1fSr_",formStyleFormButton:"Form_formStyleFormButton__1dh4w"}},150:function(t,e,n){t.exports={ListContactItem:"Listcontact_ListContactItem__3Be3W",buttonDeleteContact:"Listcontact_buttonDeleteContact__tMe7E"}},151:function(t,e,n){},152:function(t,e,n){t.exports={filter:"Filter_filter__3vjC_",filterInput:"Filter_filterInput__W5it4",filterTitle:"Filter_filterTitle__2-bEQ"}},153:function(t,e,n){t.exports={phone:"phone_phone__1I910"}},172:function(t,e,n){"use strict";n.r(e);var a=n(54),c=n(55),o=n(57),r=n(56),i=n(2),s=n(0),u=n(21),l=n(5),h=n(32),f=n.n(h),b=n(17);f.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var d={addContacts:function(t,e){return function(n){n(b.a.addContactRecuest()),f.a.post("/contacts",{name:t,number:e}).then((function(t){n(b.a.addContactSuccess(t.data))})).catch((function(t){return n(b.a.addContactError(t))}))}},fetchContacts:function(){return function(t){t(b.a.fetchContactRecuest()),f.a.get("/contacts").then((function(e){console.log(e.data),t(b.a.fetchContactSuccess(e.data))})).catch((function(e){return t(b.a.fetchContactError(e))}))}},deleteContacts:function(t){return function(e){e(b.a.deleteContactRecuest()),f.a.delete("/contacts/".concat(t)).then((function(){e(b.a.deleteContactSuccess(t))})).catch((function(t){return e(b.a.deleteContactError(t))}))}}},m=n(133),j=n(135),p=n(149),C=n.n(p),O=function(t){Object(o.a)(n,t);var e=Object(r.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),r=0;r<c;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={name:"",number:""},t.handelInputChange=function(e){e.preventDefault(),t.setState(Object(l.a)({},e.target.name,e.target.value))},t.handelSubmit=function(e){e.preventDefault(),t.props.onhandleAddContact(t.state.name,t.state.number),t.setState({name:"",number:""})},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(i.jsxs)("div",{className:C.a.formStyle,children:[Object(i.jsx)(m.a,{variant:"h6",className:C.a.formStyleTitle,children:"Phonebook"}),Object(i.jsxs)("form",{className:C.a.formStyleFormInput,onSubmit:this.handelSubmit,children:[Object(i.jsxs)("label",{children:[Object(i.jsx)(m.a,{variant:"h8",children:"Name"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",name:"name",value:e,onChange:this.handelInputChange,placeholder:"Add name",autoFocus:!0}),Object(i.jsx)("br",{})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)(m.a,{variant:"h8",children:"Number"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",name:"number",value:n,onChange:this.handelInputChange,placeholder:"Add number",autoFocus:!0})]}),Object(i.jsx)("br",{}),Object(i.jsx)(j.a,{color:"secondary",variant:"contained",type:"submit",children:"Add contact"})]})]})}}]),n}(s.Component),g=Object(u.b)(null,(function(t){return{onhandleAddContact:function(e,n){return t(d.addContacts(e,n))}}}))(O),x=n(40),v=function(t){return t.allContacts.itemContacts},_=function(t){return t.allContacts.filter},y={getitemContacts:v,getFilter:_,getLoading:function(t){return t.allContacts.loading},getVisibleContact:Object(x.a)([v,_],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},S=n(150),F=n.n(S);n(151);var I={onDeleteContact:d.deleteContacts},L=Object(u.b)((function(t){return{contact:y.getVisibleContact(t)}}),I)((function(t){var e=t.contact,n=t.onDeleteContact;return Object(i.jsx)("ul",{children:e.map((function(t){var e=t.id,a=t.name,c=t.number;return Object(i.jsxs)("li",{className:F.a.ListContactItem,children:[Object(i.jsxs)(m.a,{children:[a,":"]}),Object(i.jsx)(m.a,{children:c}),Object(i.jsx)("button",{className:F.a.buttonDeleteContact,onClick:function(){return n(e)}})]},e)}))})})),k=n(152),N=n.n(k);var A={onChange:b.a.filterContact},D=Object(u.b)((function(t){return{value:y.getFilter(t)}}),A)((function(t){var e=t.value,n=t.onChange;return Object(i.jsxs)("form",{className:N.a.filter,children:[Object(i.jsx)(m.a,{variant:"h6",className:N.a.filterTitle,children:"Find contacts by name"}),Object(i.jsx)("input",{className:N.a.filterInput,type:"text",name:"filter",value:e,onChange:function(t){return n(t.target.value)}})]})})),w=n(28),T=n(153),E=n.n(T),B=function(t){Object(o.a)(n,t);var e=Object(r.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContact(),this.props.isAuthLogIn||this.props.history.replace("/login")}},{key:"componentDidUpdate",value:function(){this.props.isAuthLogIn||this.props.history.replace("/login")}},{key:"render",value:function(){return Object(i.jsxs)("div",{className:E.a.phone,children:[this.props.isLoadingContacts&&Object(i.jsx)("h1",{children:"LOADING ..."}),Object(i.jsx)(g,{}),Object(i.jsx)(D,{}),Object(i.jsx)(L,{})]})}}]),n}(s.Component);e.default=Object(u.b)((function(t){return{isLoadingContacts:y.getLoading(t),isAuthLogIn:Object(w.b)(t)}}),(function(t){return{onFetchContact:function(){return t(d.fetchContacts())}}}))(B)}}]);
//# sourceMappingURL=4.02a2c31a.chunk.js.map