(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{114:function(t,e,n){"use strict";n.r(e);var c,r,a,o,u,s,i=n(2),b=n(0),j=n.n(b),l=n(27),O=n.n(l),d=n(54),f=n(55),h=n(57),g=n(56),p=n(24),x=n(9),C=n(21),m=n(39),S=n(129),y=n(132),v=n(133),E=function(){return Object(i.jsx)(S.a,{children:Object(i.jsx)(p.b,{exact:!0,to:"/",children:Object(i.jsx)(y.a,{edge:"start",color:"secondary","aria-label":"menu",children:Object(i.jsx)(v.a,{variant:"h6",children:"Home"})})})})},R=n(53),k=n.n(R),I=n(135),U=n(134),z=n(28),q={onLogOut:m.a.logOut},L=Object(C.b)((function(t){return{email:Object(z.a)(t)}}),q)((function(t){var e=t.email,n=t.onLogOut;return Object(i.jsxs)(S.a,{className:k.a.listNavigation,children:[Object(i.jsx)(U.a,{style:{fontSize:40},color:"secondary"}),Object(i.jsxs)(v.a,{variant:"h6",children:["User page :",e]}),Object(i.jsx)(I.a,{color:"secondary",variant:"contained",type:"button",onClick:n,className:k.a.buttonNavigation,children:"Log Out"})]})})),N=n(139),w=function(){return Object(i.jsx)("div",{children:Object(i.jsxs)(S.a,{children:[Object(i.jsx)(N.a,{mr:2,children:Object(i.jsx)(I.a,{color:"secondary",variant:"contained",children:Object(i.jsx)(p.b,{to:"/register",children:"Registers"})})}),Object(i.jsx)(I.a,{color:"secondary",variant:"contained",children:Object(i.jsx)(p.b,{to:"/login",children:"Log in"})})]})})},_=n(136),A=n(137),B=n(73),T=n.n(B),G=Object(C.b)((function(t){return{onLogIn:Object(z.b)(t)}}))((function(t){var e=t.onLogIn;return Object(i.jsx)(_.a,{position:"fixed",children:Object(i.jsx)(A.a,{fixed:!0,children:Object(i.jsxs)(S.a,{className:T.a.Toolbar,children:[!e&&Object(i.jsx)(E,{}),e?Object(i.jsx)(L,{}):Object(i.jsx)(w,{})]})})})})),J=n(31),M=n(45),P=Object(C.b)((function(t){return{"is\u0410uthorized":Object(z.b)(t)}}))((function(t){var e=t.component,n=t.is\u0410uthorized,c=Object(M.a)(t,["component","is\u0410uthorized"]);return Object(i.jsx)(x.b,Object(J.a)(Object(J.a)({},c),{},{render:function(t){return n?Object(i.jsx)(e,Object(J.a)({},t)):Object(i.jsx)(x.a,{to:"/login"})}}))})),D=Object(C.b)((function(t){return{"is\u0410uthorized":Object(z.b)(t)}}))((function(t){var e=t.component,n=t.is\u0410uthorized,c=t.restricted,r=Object(M.a)(t,["component","is\u0410uthorized","restricted"]);return Object(i.jsx)(x.b,Object(J.a)(Object(J.a)({},r),{},{render:function(t){return n&&c?Object(i.jsx)(x.a,{to:"/contacts"}):Object(i.jsx)(e,Object(J.a)({},t))}}))})),H=Object(b.lazy)((function(){return n.e(5).then(n.bind(null,168))})),F=Object(b.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,169))})),K=Object(b.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,170))})),Q=Object(b.lazy)((function(){return n.e(4).then(n.bind(null,172))})),V=function(t){Object(h.a)(n,t);var e=Object(g.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(i.jsx)(p.a,{children:Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(G,{}),Object(i.jsx)(b.Suspense,{fallback:Object(i.jsx)("div",{children:"Loading..."}),children:Object(i.jsxs)(x.d,{children:[Object(i.jsx)(P,{path:"/contacts",exact:!0,component:Q}),Object(i.jsx)(D,{path:"/",restricted:!1,exact:!0,component:H}),Object(i.jsx)(D,{path:"/register",restricted:!0,exact:!0,component:F}),Object(i.jsx)(D,{path:"/login",restricted:!0,exact:!0,component:K})]})})]})})}}]),n}(b.Component),W={onGetCurrentUser:m.a.getCurrentUser},X=Object(C.b)(null,W)(V),Y=n(74),Z=n(4),$=n(26),tt=n(75),et=n.n(tt),nt=n(5),ct=n(76),rt=n(13),at=n(17),ot=Object(Z.c)([],(c={},Object(nt.a)(c,at.a.fetchContactSuccess,(function(t,e){return e.payload})),Object(nt.a)(c,at.a.addContactSuccess,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.payload,c=t.some((function(t){return t.number===n.number}));return!c&&n.name&&n.number?[].concat(Object(ct.a)(t),[n]):(c&&alert("\u0442\u0430\u043a\u0438\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0432\u0436\u0435 \u0454"),""!==n.name&&""!==n.number||alert("\u0432\u043d\u0435\u0441\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u0456"),t)})),Object(nt.a)(c,at.a.deleteContactSuccess,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),ut=Object(Z.c)(!1,(r={},Object(nt.a)(r,at.a.fetchContactRecuest,(function(){return!0})),Object(nt.a)(r,at.a.addContactRecuest,(function(){return!0})),Object(nt.a)(r,at.a.deleteContactRecuest,(function(){return!0})),Object(nt.a)(r,at.a.fetchContactSuccess,(function(){return!1})),Object(nt.a)(r,at.a.addContactSuccess,(function(){return!1})),Object(nt.a)(r,at.a.deleteContactSuccess,(function(){return!1})),Object(nt.a)(r,at.a.fetchContactError,(function(){return!1})),Object(nt.a)(r,at.a.addContactError,(function(){return!1})),Object(nt.a)(r,at.a.deleteContactError,(function(){return!1})),r)),st=Object(Z.c)("",Object(nt.a)({},at.a.filterContact,(function(t,e){return e.payload}))),it=Object(rt.c)({itemContacts:ot,filter:st,loading:ut}),bt=n(6),jt={name:"",email:""},lt=Object(Z.c)(jt,(a={},Object(nt.a)(a,bt.a.registerSuccess,(function(t,e){return e.payload.user})),Object(nt.a)(a,bt.a.logInSuccess,(function(t,e){return e.payload.user})),Object(nt.a)(a,bt.a.getCurrentUserSuccess,(function(t,e){return e.payload})),Object(nt.a)(a,bt.a.logOutSuccess,(function(){return jt})),a)),Ot=Object(Z.c)(null,(o={},Object(nt.a)(o,bt.a.registerSuccess,(function(t,e){return e.payload.token})),Object(nt.a)(o,bt.a.logInSuccess,(function(t,e){return e.payload.token})),Object(nt.a)(o,bt.a.logOutSuccess,(function(){return null})),o)),dt=Object(Z.c)(!1,(u={},Object(nt.a)(u,bt.a.registerSuccess,(function(){return!0})),Object(nt.a)(u,bt.a.logInSuccess,(function(){return!0})),Object(nt.a)(u,bt.a.getCurrentUserSuccess,(function(){return!0})),Object(nt.a)(u,bt.a.registerError,(function(){return!1})),Object(nt.a)(u,bt.a.logInError,(function(){return!1})),Object(nt.a)(u,bt.a.getCurrentUserError,(function(){return!1})),Object(nt.a)(u,bt.a.logOutSuccess,(function(){return!1})),u)),ft=Object(Z.c)(null,(s={},Object(nt.a)(s,bt.a.registerError,(function(t,e){return e.payload})),Object(nt.a)(s,bt.a.logInError,(function(t,e){return e.payload})),Object(nt.a)(s,bt.a.logOutError,(function(t,e){return e.payload})),Object(nt.a)(s,bt.a.getCurrentUserError,(function(t,e){return e.payload})),s)),ht=Object(rt.c)({user:lt,authorized:dt,token:Ot,error:ft}),gt=Z.d,pt={key:"auth",storage:et.a,whitelist:["token"]},xt=Object(Z.a)({reducer:{allContacts:it,auth:Object($.g)(pt,ht)},middleware:gt({serializableCheck:{ignoredActions:[$.a,$.f,$.b,$.c,$.d,$.e]}})}),Ct=Object($.h)(xt);O.a.render(Object(i.jsx)(j.a.StrictMode,{children:Object(i.jsx)(C.a,{store:xt,children:Object(i.jsx)(Y.a,{loading:null,persistor:Ct,children:Object(i.jsx)(X,{})})})}),document.getElementById("root"))},17:function(t,e,n){"use strict";var c=n(4),r=Object(c.b)("contact/addRecuest"),a=Object(c.b)("contact/addSuccess"),o=Object(c.b)("contact/addError"),u=Object(c.b)("contact/fetchRecuest"),s=Object(c.b)("contact/fetchSuccess"),i=Object(c.b)("contact/fetchError"),b=Object(c.b)("contact/deleteContactRecuest"),j=Object(c.b)("contact/deleteContactSuccess"),l=Object(c.b)("contact/deleteContactError"),O=Object(c.b)("contact/filter");e.a={filterContact:O,addContactRecuest:r,addContactSuccess:a,fetchContactSuccess:s,fetchContactRecuest:u,fetchContactError:i,deleteContactRecuest:b,deleteContactSuccess:j,deleteContactError:l,addContactError:o}},28:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return r}));var c=function(t){return t.auth.authorized},r=function(t){return t.auth.user.email}},39:function(t,e,n){"use strict";var c=n(32),r=n.n(c),a=n(6);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var o={set:function(t){r.a.defaults.headers.common.Authorization="Bearer ".concat(t)},unset:function(){r.a.defaults.headers.common.Authorization=""}};e.a={register:function(t){return function(e){e(a.a.registerRequest()),r.a.post("/users/signup",t).then((function(t){o.set(t.data.token),e(a.a.registerSuccess(t.data))})).catch((function(t){return a.a.registerError(t.payload)}))}},logIn:function(t){return function(e){e(a.a.logInRequest()),r.a.post("/users/login",t).then((function(t){console.log("LogIn:",t.data.token),o.set(t.data.token),e(a.a.logInSuccess(t.data))})).catch((function(t){return a.a.logInError(t.payload)}))}},logOut:function(){return function(t){t(a.a.logOutRequest()),r.a.post("/users/logout").then((function(){o.unset(),t(a.a.logOutSuccess())})).catch((function(e){return t(a.a.logOutError(e.payload))}))}},getCurrentUser:function(){return function(t,e){var n=e().auth.token;n&&(o.set(n),t(a.a.getCurrentUserRequest()),r.a.get("/users/current").then((function(e){return t(a.a.getCurrentUserSuccess(e.data))})).catch((function(e){return t(a.a.getCurrentUserError(e.payload))})))}},token:o}},53:function(t,e,n){t.exports={listNavigation:"navigation_listNavigation__Bzbht"}},6:function(t,e,n){"use strict";var c=n(4),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),o=Object(c.b)("auth/registerError"),u=Object(c.b)("auth/logInRequest"),s=Object(c.b)("auth/logInSuccess"),i=Object(c.b)("auth/logInError"),b=Object(c.b)("auth/logOutRequest"),j=Object(c.b)("auth/logOutSuccess"),l=Object(c.b)("auth/logOutError"),O=Object(c.b)("auth/getCurrentUserRequest"),d=Object(c.b)("auth/getCurrentUserSuccess"),f=Object(c.b)("auth/getCurrentUserError");e.a={registerRequest:r,registerSuccess:a,registerError:o,logInRequest:u,logInSuccess:s,logInError:i,logOutRequest:b,logOutSuccess:j,logOutError:l,getCurrentUserRequest:O,getCurrentUserSuccess:d,getCurrentUserError:f}},73:function(t,e,n){t.exports={Toolbar:"appBar_Toolbar__2b9In"}}},[[114,2,3]]]);
//# sourceMappingURL=main.d46d33a3.chunk.js.map